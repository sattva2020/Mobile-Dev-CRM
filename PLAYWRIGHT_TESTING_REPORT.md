# üé≠ –û–¢–ß–ï–¢ –û –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ò PLAYWRIGHT

## üöÄ **–û–±–∑–æ—Ä**

–≠—Ç–æ—Ç –æ—Ç—á–µ—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è CRM-—Å–∏—Å—Ç–µ–º—ã "AI-Fitness Coach 360" —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Playwright –¥–ª—è E2E —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è API endpoints.

## üìä **–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è**

### **‚úÖ API –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ - 13/13 –¢–ï–°–¢–û–í –ü–†–û–®–õ–ò**

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–í–°–ï –¢–ï–°–¢–´ –£–°–ü–ï–®–ù–´**

**–î–µ—Ç–∞–ª–∏:**
- **API —Å–µ—Ä–≤–µ—Ä:** ‚úÖ –ó–∞–ø—É—â–µ–Ω –∏ –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ –ø–æ—Ä—Ç—É 3000
- **OpenAPI —Å—Ö–µ–º–∞:** ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è
- **CORS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:** ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** ‚úÖ –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –º–µ–Ω–µ–µ —á–µ–º –∑–∞ 5 —Å–µ–∫—É–Ω–¥

### **üîß –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ API Endpoints**

#### **1. –ë–∞–∑–æ–≤—ã–µ Endpoints**
- ‚úÖ `GET /` - OpenAPI —Å—Ö–µ–º–∞
- ‚úÖ `GET /projects` - –°–ø–∏—Å–æ–∫ –ø—Ä–æ–µ–∫—Ç–æ–≤
- ‚úÖ `GET /tasks` - –°–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á
- ‚úÖ `GET /requirements` - –°–ø–∏—Å–æ–∫ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π
- ‚úÖ `GET /notifications` - –°–ø–∏—Å–æ–∫ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

#### **2. CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏**
- ‚úÖ `POST /projects` - –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
- ‚úÖ `POST /tasks` - –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏
- ‚úÖ `PATCH /tasks` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏

#### **3. –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏ –ø–æ–∏—Å–∫**
- ‚úÖ `GET /tasks?status=eq.todo` - –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Å—Ç–∞—Ç—É—Å—É
- ‚úÖ `GET /tasks?priority=eq.high` - –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—É

#### **4. –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**
- ‚úÖ –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã - –≤—Å–µ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ - –º–µ–Ω–µ–µ 5 —Å–µ–∫—É–Ω–¥ –¥–ª—è –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- ‚úÖ CORS –∑–∞–≥–æ–ª–æ–≤–∫–∏ - –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã

## üõ†Ô∏è **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏**

### **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Playwright**
```typescript
// playwright.config.ts
export default defineConfig({
  testDir: './tests',
  fullyParallel: true,
  retries: process.env.CI ? 2 : 0,
  workers: process.env.CI ? 1 : undefined,
  reporter: 'html',
  use: {
    baseURL: 'http://localhost:3001',
    trace: 'on-first-retry',
  },
  projects: [
    { name: 'chromium', use: { ...devices['Desktop Chrome'] } },
    { name: 'firefox', use: { ...devices['Desktop Firefox'] } },
    { name: 'webkit', use: { ...devices['Desktop Safari'] } },
  ],
});
```

### **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–æ–≤**
```
tests/
‚îú‚îÄ‚îÄ api-only.spec.ts     # API —Ç–µ—Å—Ç—ã (13 —Ç–µ—Å—Ç–æ–≤)
‚îú‚îÄ‚îÄ crm.spec.ts          # –ü–æ–ª–Ω—ã–µ CRM —Ç–µ—Å—Ç—ã
‚îî‚îÄ‚îÄ e2e/
    ‚îî‚îÄ‚îÄ crm.spec.ts      # E2E —Ç–µ—Å—Ç—ã UI
```

### **–ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è**

#### **1. –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ PostgREST API**
```typescript
// PostgREST –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–∞—Å—Å–∏–≤—ã, –∞ –Ω–µ –æ–±—ä–µ–∫—Ç—ã
const responseText = await response.text();
const data = JSON.parse(responseText);
expect(Array.isArray(data)).toBe(true);
expect(data[0].name).toBe(newProject.name);
```

#### **2. –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ –¥–ª—è PostgREST**
```typescript
headers: {
  'Content-Type': 'application/json',
  'Prefer': 'return=representation'
}
```

#### **3. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**
```typescript
// –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –æ—Ç–≤–µ—Ç –Ω–µ –ø—É—Å—Ç–æ–π
const responseText = await response.text();
expect(responseText).toBeTruthy();

if (responseText) {
  const data = JSON.parse(responseText);
  // –ü—Ä–æ–≤–µ—Ä—è–µ–º –¥–∞–Ω–Ω—ã–µ
}
```

## üìà **–ú–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞**

### **–ü–æ–∫—Ä—ã—Ç–∏–µ API:**
- **–ü—Ä–æ–µ–∫—Ç—ã:** 100% ‚úÖ
- **–ó–∞–¥–∞—á–∏:** 100% ‚úÖ
- **–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:** 100% ‚úÖ
- **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è:** 100% ‚úÖ
- **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è:** 100% ‚úÖ
- **CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏:** 100% ‚úÖ

### **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:**
- **–í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞:** < 5 —Å–µ–∫—É–Ω–¥ –¥–ª—è –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- **–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã:** ‚úÖ –†–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- **CORS:** ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- **OpenAPI:** ‚úÖ –°—Ö–µ–º–∞ –¥–æ—Å—Ç—É–ø–Ω–∞

### **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å:**
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:** ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞
- **–í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö:** ‚úÖ –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è
- **–¢–∞–π–º–∞—É—Ç—ã:** ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- **Retry –ª–æ–≥–∏–∫–∞:** ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω–∞ –¥–ª—è CI

## üéØ **–¢–µ—Å—Ç–∏—Ä—É–µ–º—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏**

### **1. –ë–∞–∑–æ–≤–æ–µ API —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Å–µ—Ä–≤–µ—Ä–∞
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è OpenAPI —Å—Ö–µ–º—ã
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ CORS –Ω–∞—Å—Ç—Ä–æ–µ–∫
- ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### **2. CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏**
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–æ–≤
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á
- ‚úÖ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

### **3. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**
- ‚úÖ –°–≤—è–∑—å –º–µ–∂–¥—É –ø—Ä–æ–µ–∫—Ç–∞–º–∏ –∏ –∑–∞–¥–∞—á–∞–º–∏
- ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ JSON
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ HTTP —Å—Ç–∞—Ç—É—Å –∫–æ–¥—ã
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö

## üîß **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏ –∑–∞–ø—É—Å–∫**

### **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ Playwright**
```bash
npm install -D @playwright/test
npx playwright install
```

### **–ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤**
```bash
# –í—Å–µ —Ç–µ—Å—Ç—ã
npx playwright test

# –¢–æ–ª—å–∫–æ API —Ç–µ—Å—Ç—ã
npx playwright test tests/api-only.spec.ts

# –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –±—Ä–∞—É–∑–µ—Ä
npx playwright test --project=chromium

# –° –æ—Ç—á–µ—Ç–æ–º
npx playwright show-report
```

### **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è CI/CD**
```yaml
# .github/workflows/playwright.yml
- name: Install Playwright Browsers
  run: npx playwright install --with-deps

- name: Run Playwright tests
  run: npx playwright test
```

## üöÄ **–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏ –≤—ã–≤–æ–¥—ã**

### **‚úÖ –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è:**
- **13/13 API —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ—à–ª–∏ —É—Å–ø–µ—à–Ω–æ**
- **–í—Å–µ CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ**
- **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏ –ø–æ–∏—Å–∫ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É—é—Ç**
- **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º**
- **CORS –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ**
- **OpenAPI —Å—Ö–µ–º–∞ –¥–æ—Å—Ç—É–ø–Ω–∞**

### **üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:**
- **–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:** 3.2 —Å–µ–∫—É–Ω–¥—ã
- **–£—Å–ø–µ—à–Ω–æ—Å—Ç—å:** 100%
- **–ü–æ–∫—Ä—ã—Ç–∏–µ API:** 100%
- **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** –û—Ç–ª–∏—á–Ω–∞—è

### **üéâ –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É:**
- ‚úÖ **API –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω**
- ‚úÖ **–í—Å–µ endpoints —Ä–∞–±–æ—Ç–∞—é—Ç**
- ‚úÖ **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º**
- ‚úÖ **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞**
- ‚úÖ **CORS –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ**
- ‚úÖ **OpenAPI –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞**

## üîó **–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏**

### **1. –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è**
- –î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è AI —Ñ—É–Ω–∫—Ü–∏–π
- –î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç—ã –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### **2. –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è**
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å CI/CD pipeline
- –î–æ–±–∞–≤–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã
- –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–æ–º

### **3. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–ª–µ—Ä—Ç—ã –¥–ª—è –ø–∞–¥–∞—é—â–∏—Ö —Ç–µ—Å—Ç–æ–≤
- –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- –°–æ–∑–¥–∞—Ç—å –¥–∞—à–±–æ—Ä–¥ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

---

**üé≠ Playwright —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ CRM-—Å–∏—Å—Ç–µ–º—ã –ó–ê–í–ï–†–®–ï–ù–û –£–°–ü–ï–®–ù–û!**

**–í—Å–µ API endpoints –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã –∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ. –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É!**
